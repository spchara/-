# 2024å¹´å¤å­£ã€Šç§»åŠ¨è½¯ä»¶å¼€å‘ã€‹å®éªŒæŠ¥å‘Š



<center>å§“åï¼šç¼ªçº¬éŸ¬  å­¦å·ï¼š22020007160</center>

| å§“åå’Œå­¦å·         | ç¼ªçº¬éŸ¬ï¼Œ22020007160                                        |
| ------------------ | ---------------------------------------------------------- |
| æœ¬å®éªŒå±äºå“ªé—¨è¯¾ç¨‹ | ä¸­å›½æµ·æ´‹å¤§å­¦24å¤ã€Šç§»åŠ¨è½¯ä»¶å¼€å‘ã€‹                           |
| å®éªŒåç§°           | å®éªŒ5ï¼šé«˜æ ¡æ–°é—»ç½‘                                          |
| åšå®¢åœ°å€           | http://t.csdnimg.cn/Cn4jn                                  |
| Githubä»“åº“åœ°å€     | https://github.com/spchara/remote-software-develop-lab.git |



## **ä¸€ã€å®éªŒç›®æ ‡**

1. ç»¼åˆæ‰€å­¦çŸ¥è¯†åˆ›å»ºå®Œæ•´çš„å‰ç«¯æ–°é—»å°ç¨‹åºé¡¹ç›®ï¼›
2. èƒ½å¤Ÿåœ¨å¼€å‘è¿‡ç¨‹ä¸­ç†Ÿç»ƒæŒæ¡çœŸæœºé¢„è§ˆã€è°ƒè¯•ç­‰æ“ä½œã€‚



## äºŒã€å®éªŒæ­¥éª¤

#### 1 åˆ›å»ºé¡¹ç›®

åˆ›å»ºç©ºç™½é¡¹ç›®

<img src="%E5%AE%9E%E9%AA%8C%E4%BA%94.assets/image-20240902134925632.png" alt="image-20240902134925632" style="zoom:50%;" />

ç”±äºè¿™ä¸€æ¬¡æˆ‘ä»¬éœ€è¦åˆ›å»ºå¤šä¸ªé¡µé¢äº†ï¼Œæ‰€ä»¥éœ€è¦åœ¨`app.json`çš„`pages`å±æ€§ä¸­æ·»åŠ æ–°çš„é¡µé¢è·¯å¾„

![image-20240902135059490](%E5%AE%9E%E9%AA%8C%E4%BA%94.assets/image-20240902135059490.png)

å¯¼å…¥è€å¸ˆæä¾›çš„ common.jsã€å›¾ç‰‡æ–‡ä»¶ã€ä»¥åŠ index é¡µé¢çš„ä»£ç 

![image-20240902140012342](%E5%AE%9E%E9%AA%8C%E4%BA%94.assets/image-20240902140012342.png)

#### 2 æ·»åŠ å¯¼èˆªæ å’Œåº•éƒ¨å¯¼èˆªæ¡

ä¿®æ”¹`app.json`ï¼Œä»£ç å¦‚ä¸‹

```json
"window": {
    "navigationBarBackgroundColor": "#328EEB",
    "navigationBarTextStyle": "white",
    "navigationBarTitleText": "æˆ‘çš„æ–°é—»ç½‘"
  },
  "tabBar" : {
    "color": "#000",
    "selectedColor": "328EEB",
    "list":[
      {
        "pagePath":"pages/index/index",
        "iconPath":"images/index.png",
        "selectedIconPath":"images/index_blue.png",
        "text":"é¦–é¡µ"
      },
      {
        "pagePath":"pages/my/my",
        "iconPath":"images/my.png",
        "selectedIconPath":"images/my_blue.png",
        "text":"æˆ‘çš„"
      }
    ]
  },
```

è¿™é‡Œå…¶å®é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œè§£å†³ä¹‹åå°±æˆåŠŸæ˜¾ç¤ºè€å¸ˆç»™çš„é¡µé¢äº†ã€‚å…·ä½“é—®é¢˜å’Œè§£å†³è¿‡ç¨‹åœ¨ç¬¬å››éƒ¨åˆ†è¯´æ˜

![image-20240902173247255](%E5%AE%9E%E9%AA%8C%E4%BA%94.assets/image-20240902173247255.png)

#### 3 å®Œæˆé¡µé¢è®¾è®¡

##### 3.1 ä¸»é¡µè®¾è®¡

ä¸»é¡µè®¾è®¡ä½¿ç”¨è€å¸ˆæä¾›çš„ä»£ç 

##### 3.2 ä¸ªäººä¸­å¿ƒé¡µè®¾è®¡

ä¸ªäººä¸­å¿ƒé¡µåŒ…å«ä¸¤ä¸ªæ¿å—ï¼š

+ ç™»å½•é¢æ¿ï¼š

    åœ¨æœªç™»å½•æ—¶æ˜¾ç¤ºé»˜è®¤å¤´åƒå’Œç™»å½•é”®ï¼Œç™»é™†åæ˜¾ç¤ºå¾®ä¿¡å¤´åƒä¸åç§°

+ æˆ‘çš„æ”¶è—ï¼š

    åœ¨æœªç™»å½•æ—¶æ˜¾ç¤ºä¸ºç©ºï¼Œç™»é™†åæ˜¾ç¤ºç”¨æˆ·æ”¶è—çš„æ–‡ç« åˆ—è¡¨

æš‚æ—¶å…ˆä¸å®Œæˆç™»å½•ä¸å¦çš„æ˜¾ç¤ºï¼Œå…ˆå®Œæˆé¡µé¢è®¾è®¡ï¼Œå¹¶æ·»åŠ ç›¸åº”çš„cssï¼Œåœ¨æŠ¥å‘Šæœ«å°¾å±•ç¤º

å…·ä½“ä»£ç ï¼š

```html
<view id="myLogin">
  <block>
    <image id="myIcon" src='{{src}}'></image>
    <text id="nickName">{{nickName}}</text>
  </block>
</view>

<view id="myFavourite">
  <text>æˆ‘çš„æ”¶è—({{num}})</text>
  <view id='news-list'>
    <view class="list-item" wx:for="{{newsList}}" wx:for-item = "news" wx:key="{{news.id}}">
      <image src='{{news.poster}}'></image>
      <text bindtap="goToDetail" data-id="{{news.id}}">ğŸ”·{{news.title}} -- {{news.add_date}}</text>
    </view>
  </view>
</view>
```

![image-20240902175103828](%E5%AE%9E%E9%AA%8C%E4%BA%94.assets/image-20240902175103828.png)

##### 3.3 æ–°é—»é¡µè®¾è®¡

æ–°é—»é¡µéœ€è¦åŒ…å«ï¼šæ ‡é¢˜ã€æ–°é—»å›¾ç‰‡ã€æ–°é—»æ—¥æœŸã€æ”¶è—\å–æ¶ˆæ”¶è—æŒ‰é’®

ä»£ç å¦‚ä¸‹ï¼Œå¹¶æ·»åŠ ç›¸åº”css

```html
<scroll-view class="scrollarea" scroll-y type="list">
  <view class="container">
    <view class = "title">{{article.title}}</view>
    <view class = "poster">
      <image src = "{{article.poster}}" mode="widthFix"></image>
    </view>
    <view class="content">{{article.content}}</view>
    <view class="add_date">æ—¶é—´ï¼š{{article.add_date}}</view>
    <button wx:if='{{isAdd}}' plain bindtap="cancelFavourites">â™¥å–æ¶ˆæ”¶è—</button>
    <button wx:else plain bindtap="addFavourites">â™¡ç‚¹å‡»æ”¶è—</button>

  </view>
</scroll-view>

```

#### 4 ä¸šåŠ¡é€»è¾‘å®ç°

##### 4.1 å…¬å…±é€»è¾‘å®ç° 

åŒ…å«æä¾›æ¨¡æ‹Ÿæ•°æ®çš„æ¨¡æ‹Ÿæ¥å£ï¼Œç”±è€å¸ˆæä¾›çš„ä»£ç å®ç°

æä¾›æ¥å£ï¼Œè¿”å›é¢„å­˜çš„æ–°é—»åˆ—è¡¨ã€‚ä»¥åŠidå¯¹åº”çš„å•ä¸ªæ–°é—»

##### 4.2 ä¸»é¡µé€»è¾‘ä»¥åŠé¡µé¢è·³è½¬

ä¸»é¡µé€»è¾‘åŒ…æ‹¬è½®æ’­å›¾ã€åˆ—è¡¨æ˜¾ç¤ºæ–°é—»ã€ä»¥åŠç‚¹å‡»è·³è½¬

å‡ç”±è€å¸ˆæä¾›çš„ä»£ç å®ç°

##### 4.3 æ–°é—»é¡µé¢é€»è¾‘å®ç°

åœ¨é¦–é¡µé€»è¾‘ä¸­ï¼Œå®ç°äº†é¡µé¢è·³è½¬å¹¶æºå¸¦æ–°é—»çš„idç¼–å·ï¼Œæ–°é—»é¡µéœ€è¦åšçš„åˆ™æ˜¯æ¥å—idç¼–å·ä¹‹åï¼Œé€šè¿‡idæŸ¥è¯¢å¯¹åº”çš„æ–°é—»å†…å®¹ï¼Œå¹¶æ¸²æŸ“å‡ºæ¥ã€‚å¯¹åº”ä»£ç 

```js
onLoad(options) {
    let id = options.id;
    var article = wx.getStorageSync(id)
    if(article !=''){
      this.setData({
        article:article,
        isAdd: true
      })
    }
    else{
      let result = common.getNewsDetail(id);
      if(result.code=='200'){
        this.setData({
          article:result.news,
          isAdd:false
        })
      }
    }
  },
```

åŒæ—¶éœ€è¦å®ç°æ”¶è—ä¸å–æ¶ˆæ”¶è—çš„åŠŸèƒ½ï¼Œæ•…è€Œè¿˜éœ€è¦ä¸€ä¸ªå˜é‡`isAdd`ç”¨äºä¿å­˜ï¼Œå¹¶å†™å‡ºç›¸åº”çš„ç»‘å®šå‡½æ•°æ¥æ”¹å˜çŠ¶æ€

```js
  addFavourites: function(options){
    let article = this.data.article;
    wx.setStorageSync(article.id,article);
    this.setData({
      isAdd:true
    });
  },

  cancelFavourites:function(options){
    let article = this.data.article;
    wx.removeStorageSync(article.id);
    this.setData({
      isAdd:false
    });
  },
```

##### 4.4 ä¸ªäººä¸­å¿ƒé¡µé€»è¾‘å®ç°

ä¸ªäººä¸­å¿ƒé¡µæœ‰ä¸‰ä¸ªä¸»è¦åŠŸèƒ½ï¼š

+ è·å–ç”¨æˆ·ä¿¡æ¯

    ç”¨å®éªŒä¸€åŒæ¬¾çš„æŠ€æœ¯å³å¯å®ç°ï¼Œä¸è¿‡ä¹Ÿä¼šé‡åˆ°å®éªŒä¸€çš„åŒæ¬¾é—®é¢˜ï¼Œæ›´æ–°çš„åŸºç¡€åº“ä¸æ”¯æŒï¼Œæ‰€ä»¥éœ€è¦è°ƒä½åŸºç¡€åº“ç‰ˆæœ¬

    å¯¹åº”ä»£ç ï¼š

    ```html
    <button wx:else open-type="getUserInfo" bindgetuserinfo="getMyInfo">ç‚¹å‡»ç™»å½•</button>
    ```

    ```js
     getMyInfo:function(e){
        console.log(e.detail.userInfo);
        let info = e.detail.userInfo;
        this.setData({
          isLogin:true,
          src:info.avatarUrl,
          nickName:info.nickName
        });
      },
    ```

+ è·å–æ”¶è—åˆ—è¡¨

    åœ¨æœ¬åœ°ç¼“å­˜ä¸­å–å¾—ä¿å­˜çš„æ”¶è—æ•°æ®ï¼ŒæŒ‰ç†æ¥è¯´æ”¶è—åº”è¯¥ä¿å­˜åœ¨æ•°æ®åº“ï¼Œä¸è¿‡è¿™é‡Œå°±ç”¨æœ¬åœ°ç¼“å­˜

    ```js
      getMyFavorites:function(){
        let info = wx.getStorageInfoSync();
        let keys = info.keys;
        let num = keys.length-1;
    
        let myList = [];
        for(var i =0;i<num;i++){
          let obj = wx.getStorageSync(keys[i]);
          console.log(obj)
          myList.push(obj);
        }
        this.setData({
          newsList:myList,
          num:num
        });
      },
    ```

    åœ¨ä¸Šé¢çš„ç™»å½•å‡½æ•°ä¸­è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œå³å¯å®ç°ç™»å½•åè¯»å–å¯¹åº”æ”¶è—çš„æ•ˆæœ

    è€ƒè™‘åˆ°ç™»é™†åä¹Ÿä¼šæœ‰æ”¶è—ã€å–æ¶ˆæ”¶è—çš„éœ€æ±‚ï¼Œä¿®æ”¹å¦‚ä¸‹ä»£ç 

    ```js
      onShow() {
        if(this.data.isLogin){
          this.getMyFavorites();
        }
      },
    ```

+ æµè§ˆæ”¶è—çš„æ–°é—»

    å†™ä¸€ä¸ªä¸»é¡µåŒæ¬¾çš„è·³è½¬å³å¯

    ```js
      goToDetail:function(e){
        let id = e.currentTarget.dataset.id;
        wx.navigateTo({
          url: '../detail/detail?id='+id
        })
      },
    ```



#### 5 æœ€åä¸€æ­¥

ä»å­¦æ ¡å®˜ç½‘ä¸Šæœé›†æ–°é—»ï¼Œä¿å­˜ä¸ºæœ¬åœ°çš„æ¨¡æ‹Ÿæ•°æ®å³å¯

## ä¸‰ã€ç¨‹åºè¿è¡Œç»“æœ

é¦–é¡µ

![image-20240902182525760](%E5%AE%9E%E9%AA%8C%E4%BA%94.assets/image-20240902182525760.png)

æ–°é—»è¯¦æƒ…é¡µ

![image-20240902182601915](%E5%AE%9E%E9%AA%8C%E4%BA%94.assets/image-20240902182601915.png)

![image-20240902182614994](%E5%AE%9E%E9%AA%8C%E4%BA%94.assets/image-20240902182614994.png)

ç‚¹å‡»æ”¶è—

![image-20240902184451686](%E5%AE%9E%E9%AA%8C%E4%BA%94.assets/image-20240902184451686.png)

ç”¨æˆ·ç™»å½•

![image-20240902182639326](%E5%AE%9E%E9%AA%8C%E4%BA%94.assets/image-20240902182639326.png)

![image-20240902182654272](%E5%AE%9E%E9%AA%8C%E4%BA%94.assets/image-20240902182654272.png)



## å››ã€é—®é¢˜æ€»ç»“ä¸ä½“ä¼š

### é—®é¢˜ï¼š

+ Qï¼šåœ¨å¯¼å…¥è€å¸ˆæä¾›çš„indexæ–‡ä»¶ä¹‹åï¼Œindexæ— æ³•æ­£å¸¸æ˜¾ç¤º

    åˆæ­¥æ£€æŸ¥ä¹‹åï¼Œæˆ‘å‘ç°è€å¸ˆæä¾›çš„`index.json`ä¸­`data`æ²¡æœ‰æ­£ç¡®åˆå§‹åŒ–éœ€è¦ä½¿ç”¨çš„æ•°ç»„ï¼Œå³`newList`

    ```json
    data: {
        //å¹»ç¯ç‰‡ç´ æ
        swiperImg: [
          {src: 'https://gaopursuit.oss-cn-beijing.aliyuncs.com/2022/newsimage1.jpg'},
          {src: 'https://gaopursuit.oss-cn-beijing.aliyuncs.com/2022/newsimage2.jpg'},
          {src: 'https://gaopursuit.oss-cn-beijing.aliyuncs.com/2022/newsimage3.jpg'}
        ],
        newsList:[]
      },
    ```

+ Q:ä¸Šä¸€æ­¥ä¿®æ”¹ä¹‹åï¼Œè™½ç„¶å›¾ç‰‡å¯ä»¥æ˜¾ç¤ºäº†ï¼Œå´åˆæ— æ³•æ­£ç¡®æ˜¾ç¤ºå¯¼èˆªæ 

    ![image-20240902142340981](%E5%AE%9E%E9%AA%8C%E4%BA%94.assets/image-20240902142340981.png)

    äº§ç”Ÿè­¦å‘Š`ç”±äº skyline é¡µé¢çš„ navigationStyle æ˜¯ customï¼Œapp.json ä¸­çš„ window é…ç½® navigationStyleã€navigationBarTextStyleã€navigationBarTitleTextã€navigationBarBackgroundColor æ˜¯ä¸ç”Ÿæ•ˆçš„`

    ç ”ç©¶è®¸ä¹…ä¹‹åï¼Œæˆ‘åˆ é™¤äº†`app.json`ä¸­çš„è¿™ä¸€è¡Œä»£ç 

    ```json
      "renderer": "skyline",
    ```

    å¯¼èˆªæ æ¸²æŸ“ç»ˆäºæ­£å¸¸

+ Q:å®éªŒæ‰‹å†Œæ‰€ç»™ä»£ç æœ‰ä¸€å¤„é”™è¯¯ï¼šåœ¨ä»æœ¬åœ°ç¼“å­˜è·å–æ”¶è—åˆ—è¡¨çš„è¿‡ç¨‹ä¸­ï¼Œå®éªŒæ‰‹å†Œä¸­æœ‰ä¸€å¸ƒé€šè¿‡info.keyçš„é•¿åº¦æ¥è·å¾—æ”¶è—çš„æ•°é‡ï¼Œå®é™…ä¸Šæ˜¯æœ‰é—®é¢˜çš„ï¼Œå› ä¸ºæœ¬åœ°ç¼“å­˜æœ‰ä¸€ä¸ª`logs`ã€‚å› æ­¤å®é™…ä¸Š`num`çš„å€¼åº”å½“ä¸º`keys.length-1`

    ```js
      getMyFavorites:function(){
        let info = wx.getStorageInfoSync();
        let keys = info.keys;
        let num = keys.length;
        ......
    ```

    ![image-20240902182839852](%E5%AE%9E%E9%AA%8C%E4%BA%94.assets/image-20240902182839852.png)

### ä½“ä¼š

è¿™æ¬¡å®éªŒä¸­æˆ‘ç¬¬ä¸€æ¬¡å®ç°äº†å¾®ä¿¡å°ç¨‹åºé‡Œå¤šä¸ªé¡µé¢ä¹‹é—´çš„è·³è½¬ã€æ•°æ®ä¼ é€’ã€ä»¥åŠæœ¬åœ°ç¼“å­˜çš„ä½¿ç”¨ï¼Œä¸ºä¸ªäººé¡¹ç›®çš„å®ç°æä¾›äº†æ›´è¿›ä¸€æ­¥çš„æŠ€æœ¯åŸºç¡€